<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Update Fieldset State</title>

    <!-- Bootstrap CSS -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />

    <!-- Font Awesome Icons -->
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css"
    />

    <style>
      fieldset {
        border: 2px solid gray;
        padding: 15px;
        transition: all 0.3s ease;
      }
      .filling {
        border-color: gray;
        background-color: #f8f9fa;
      }
      .filled {
        border-color: green;
        background-color: #d4edda;
      }
      .icon-btn {
        cursor: pointer;
        font-size: 1.5rem;
        margin-left: 10px;
      }
      #iconContainer {
        display: none; /* Hide icons initially */
      }
    </style>
  </head>
  <body class="container mt-4">
    <!-- Modal Body Start-->
    <div class="modal-body">
      <form class="mb-3" action="">
        <div class="mb-3 p-3 bg-white rounded-2">
          <fieldset class="">
            <label for="" class="form-label"
              >Principal Address <span class="mandatory">*</span></label
            >
            <input
              type="text"
              class="form-control mb-3"
              id=""
              placeholder="Address Line 1"
            />
            <input
              type="text"
              class="form-control mb-3"
              id=""
              placeholder="Address Line 2"
            />
            <div class="d-flex w-100 mb-3">
              <input
                type="text"
                class="form-control me-2"
                id=""
                placeholder="City"
              />
              <div class="w-100 me-2">
                <select class="form-select" id="formation-model">
                  <option value="Entity Type">Select State</option>
                  <option value="Client Subscription">Europe</option>
                </select>
              </div>
              <input
                type="text"
                class="form-control"
                id=""
                placeholder="Zipcode"
              />
            </div>

            <div class="d-flex justify-content-between align-items-center">
              <span class="fw-bold">MAILING ADDRESS</span>
              <div class="d-flex align-items-center">
                <div class="form-check gap-2">
                  <input
                    class="form-check-input payment-method"
                    type="checkbox"
                    id="asapheck"
                    checked=""
                  />
                  <label class="form-check-label fw-normal" for="asap"
                    >Same as Principal Address</label
                  >
                </div>
              </div>
            </div>
          </fieldset>
        </div>
      </form>

      <!-- Stakeholders Accordion -->
      <div class="accordion mb-3" id="accordionExample1">
        <div class="accordion-item m-0">
          <h2 class="accordion-header" id="headingOne1">
            <button
              class="accordion-button collapsed"
              type="button"
              data-bs-toggle="collapse"
              data-bs-target="#collapseOne1"
              aria-expanded="false"
              aria-controls="collapseOne1"
            >
              Stakeholders <span class="icon icon-entity-required ms-3"></span>
            </button>
          </h2>
          <div
            id="collapseOne1"
            class="accordion-collapse collapse show border-0"
            aria-labelledby="headingOne1"
          >
            <div class="accordion-body pt-0">
              <form action="">
                <div class="stakeholdersform">
                  <div
                    class="alert alert-danger flex-column text-dark fw-normal py-2"
                    role="alert"
                  >
                    <div>
                      <span class="icon icon-alert-red"></span>
                      <small
                        >California requires CEO, CFO and Secretary
                        details</small
                      >
                    </div>
                    <div>
                      <span class="icon icon-alert-red"></span>
                      <small>Texas requires XYZ</small>
                    </div>
                  </div>

                  <!-- OFFICERS SECTION -->
                  <div class="section mb-3 officeform">
                    <div
                      class="d-flex justify-content-between align-items-center"
                    >
                      <label class="form-label m-0"
                        >officers <span class="mandatory">*</span></label
                      >
                      <a
                        href="#"
                        data-bs-toggle="collapse"
                        data-bs-target="#officerForm"
                        aria-expanded="false"
                      >
                        <span class="icon icon-add-circle-plus"></span> Add
                      </a>
                    </div>
                    <!-- Form inside collapse -->
                    <div id="officerForm" class="collapse mt-2">
                      <input
                        type="text"
                        class="form-control"
                        placeholder="Enter Officer Name"
                      />
                    </div>
                  </div>

                  <hr />

                  <!-- MANAGERS SECTION -->
                  <div class="section">
                    <div
                      class="d-flex justify-content-between align-items-center"
                    >
                      <label class="form-label m-0"
                        >MANAGERS <span class="mandatory">*</span></label
                      >
                      <a
                        href="#"
                        data-bs-toggle="collapse"
                        data-bs-target="#managerForm"
                        aria-expanded="false"
                      >
                        <span class="icon icon-add-circle-plus"></span> Add
                      </a>
                    </div>
                    <!-- Form inside collapse -->
                    <div id="managerForm" class="collapse mt-2">
                      <input
                        type="text"
                        class="form-control"
                        placeholder="Enter Manager Name"
                      />
                    </div>
                  </div>
                </div>
              </form>
            </div>
          </div>
        </div>
      </div>

      <!-- State 01 Specific Information Accordion -->
      <div class="accordion mb-3" id="accordionExample2">
        <div class="accordion-item m-0">
          <h2 class="accordion-header" id="headingTwo1">
            <button
              class="accordion-button collapsed"
              type="button"
              data-bs-toggle="collapse"
              data-bs-target="#collapseTwo1"
              aria-expanded="false"
              aria-controls="collapseTwo1"
            >
              State 01 Specific Information
              <span class="icon icon-entity-required ms-3"></span>
            </button>
          </h2>
          <div
            id="collapseTwo1"
            class="accordion-collapse collapse show border-0"
            aria-labelledby="headingTwo1"
          >
            <div class="accordion-body pt-0">
              <fieldset>
                <label class="form-label"
                  >Principal Address <span class="mandatory">*</span></label
                >
                <input
                  type="text"
                  class="form-control mb-3"
                  placeholder="Address Line 1"
                />
                <input
                  type="text"
                  class="form-control mb-3"
                  placeholder="Address Line 2"
                />
                <div class="d-flex w-100 mb-3">
                  <input
                    type="text"
                    class="form-control me-2"
                    placeholder="City"
                  />
                  <div class="w-100 me-2">
                    <select class="form-select">
                      <option value="">Select State</option>
                      <option value="Europe">Europe</option>
                    </select>
                  </div>
                  <input
                    type="text"
                    class="form-control"
                    placeholder="Zipcode"
                  />
                </div>

                <div class="d-flex justify-content-between align-items-center">
                  <span class="fw-bold">MAILING ADDRESS</span>
                  <div class="d-flex align-items-center">
                    <div class="form-check gap-2">
                      <input
                        class="form-check-input payment-method"
                        type="checkbox"
                        id="asapCheck1"
                        checked
                      />
                      <label class="form-check-label fw-normal" for="asapCheck1"
                        >Same as Principal Address</label
                      >
                    </div>
                  </div>
                </div>
              </fieldset>
            </div>
          </div>
        </div>
      </div>

      <!-- State 02 Specific Information Accordion -->
      <div class="accordion mb-3" id="accordionExample3">
        <div class="accordion-item m-0">
          <h2 class="accordion-header" id="headingThree1">
            <button
              class="accordion-button collapsed"
              type="button"
              data-bs-toggle="collapse"
              data-bs-target="#collapseThree1"
              aria-expanded="false"
              aria-controls="collapseThree1"
            >
              State 02 Specific Information
              <span class="icon icon-entity-required ms-3"></span>
            </button>
          </h2>
          <div
            id="collapseThree1"
            class="accordion-collapse collapse show border-0"
            aria-labelledby="headingThree1"
          >
            <div class="accordion-body pt-0">
              <fieldset>
                <label class="form-label"
                  >Principal Address <span class="mandatory">*</span></label
                >
                <input
                  type="text"
                  class="form-control mb-3"
                  placeholder="Address Line 1"
                />
                <input
                  type="text"
                  class="form-control mb-3"
                  placeholder="Address Line 2"
                />
                <div class="d-flex w-100 mb-3">
                  <input
                    type="text"
                    class="form-control me-2"
                    placeholder="City"
                  />
                  <div class="w-100 me-2">
                    <select class="form-select">
                      <option value="">Select State</option>
                      <option value="Europe">Europe</option>
                    </select>
                  </div>
                  <input
                    type="text"
                    class="form-control"
                    placeholder="Zipcode"
                  />
                </div>

                <div class="d-flex justify-content-between align-items-center">
                  <span class="fw-bold">MAILING ADDRESS</span>
                  <div class="d-flex align-items-center">
                    <div class="form-check gap-2">
                      <input
                        class="form-check-input payment-method"
                        type="checkbox"
                        id="asapCheck2"
                        checked
                      />
                      <label class="form-check-label fw-normal" for="asapCheck2"
                        >Same as Principal Address</label
                      >
                    </div>
                  </div>
                </div>
              </fieldset>
            </div>
          </div>
        </div>
      </div>
    </div>
    <!-- Modal Body End -->

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

    <script>
      document
        .getElementById("addButton")
        .addEventListener("click", function () {
          const fieldset = document.getElementById("myFieldset");
          const name = document.getElementById("name").value.trim();
          const email = document.getElementById("email").value.trim();
          const iconContainer = document.getElementById("iconContainer");

          if (name !== "" && email !== "") {
            // Change Fieldset to Filled State
            fieldset.classList.remove("filling");
            fieldset.classList.add("filled");

            // Hide Labels
            document
              .getElementById("nameGroup")
              .querySelector("label").style.display = "none";
            document
              .getElementById("emailGroup")
              .querySelector("label").style.display = "none";

            // Disable Input Fields
            document.getElementById("name").setAttribute("disabled", true);
            document.getElementById("email").setAttribute("disabled", true);

            // Hide Add Button
            document.getElementById("addButton").style.display = "none";

            // Show Edit & Delete Icons
            iconContainer.style.display = "flex";
          } else {
            alert("Please fill in all fields before adding.");
          }
        });

      document
        .getElementById("editButton")
        .addEventListener("click", function () {
          const fieldset = document.getElementById("myFieldset");
          const iconContainer = document.getElementById("iconContainer");

          // Enable Input Fields
          document.getElementById("name").removeAttribute("disabled");
          document.getElementById("email").removeAttribute("disabled");

          // Show Labels Again
          document
            .getElementById("nameGroup")
            .querySelector("label").style.display = "block";
          document
            .getElementById("emailGroup")
            .querySelector("label").style.display = "block";

          // Show Add Button Again
          document.getElementById("addButton").style.display = "block";

          // Hide Edit/Delete Icons Again
          iconContainer.style.display = "none";

          // Reset fieldset state
          fieldset.classList.remove("filled");
          fieldset.classList.add("filling");
        });

      document
        .getElementById("deleteButton")
        .addEventListener("click", function () {
          document.getElementById("myFieldset").remove();
        });
    </script>
  </body>
</html>
